# レイアウト仕様書

## 概要
計算プリントの画面表示およびPDF出力時のレイアウトに関する仕様

## 画面レイアウト

### 全体構成
```
┌─────────────────────────────────────────┐
│              ヘッダー                    │
├─────────────────────────────────────────┤
│ 設定パネル │    プレビューエリア         │
│           │                            │
│ - 学年    │  ┌──────────────────┐      │
│ - 演算    │  │                  │      │
│ - 列数    │  │   問題プレビュー   │      │
│ - 問題数   │  │                  │      │
│           │  └──────────────────┘      │
├─────────────────────────────────────────┤
│         生成・印刷ボタンエリア           │
└─────────────────────────────────────────┘
```

### レスポンシブ対応
- **デスクトップ**: サイドバー + プレビュー（横並び）
- **タブレット**: 設定とプレビューを縦並び
- **モバイル**: アコーディオン形式で設定を折りたたみ

## 問題レイアウトパターン

### 1列レイアウト
```
(1) 12 + 8 = _____

(2) 25 - 7 = _____

(3) 6 × 4 = _____
```
- **用途**: 文章題、複雑な計算
- **問題間隔**: 30px
- **フォントサイズ**: 16px

### 2列レイアウト
```
(1) 12 + 8 = ___    (2) 25 - 7 = ___

(3) 6 × 4 = ___     (4) 18 ÷ 3 = ___
```
- **用途**: 標準的な練習問題
- **列間隔**: 40px
- **問題間隔**: 25px

### 3列レイアウト
```
(1) 5+3=__   (2) 7-2=__   (3) 4×2=__

(4) 8÷2=__   (5) 6+1=__   (6) 9-5=__
```
- **用途**: 基礎的な反復練習
- **列間隔**: 30px
- **問題間隔**: 20px
- **フォントサイズ**: 14px

## 筆算レイアウト

### たし算・ひき算
```
    2 3
  + 1 8
  ────
    
```
- **数字間隔**: 等幅フォントで統一
- **罫線**: border-bottom使用
- **繰り上がり表示**: 上部に小さく表示

### かけ算
```
    2 3
  ×  4
  ────
    
```
- **部分積スペース**: 2行分確保
- **最終積罫線**: 二重線

### わり算
```
     ___
  3│1 2
```
- **商のスペース**: 上部に確保
- **縦線**: border-left使用

## 特殊要素

### 手書きスペース
```css
.answer-space {
  min-width: 60px;
  border-bottom: 1px solid #333;
  height: 30px;
  display: inline-block;
}
```

### 問題番号
```css
.problem-number {
  display: inline-block;
  min-width: 30px;
  font-weight: bold;
}
```

### 単位表記
```css
.unit {
  margin-left: 5px;
  font-size: 0.9em;
}
```

## 印刷時の調整

### ページ設定
```css
@page {
  size: A4;
  margin: 20mm 25mm 20mm 25mm;
}
```

### 改ページ制御
```css
.problem-item {
  page-break-inside: avoid;
}

.problem-section {
  page-break-after: auto;
}
```

### 印刷用スタイル
```css
@media print {
  .no-print {
    display: none !important;
  }
  
  .problem-container {
    font-size: 12pt;
    line-height: 1.8;
  }
  
  /* カラー要素を白黒に */
  * {
    color: black !important;
    background: white !important;
  }
}
```

## アクセシビリティ

### フォント設定
- **最小サイズ**: 12px（画面）、10pt（印刷）
- **行間**: 1.5〜2.0
- **フォントファミリー**: 游ゴシック、ヒラギノ角ゴ、メイリオ

### コントラスト
- **文字色**: #333333（濃いグレー）
- **背景色**: #FFFFFF（白）
- **罫線色**: #666666（中間グレー）

### 読みやすさ
- 問題番号の明確な表示
- 十分な余白の確保
- 一貫したレイアウト